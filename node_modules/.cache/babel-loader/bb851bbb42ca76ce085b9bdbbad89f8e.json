{"ast":null,"code":"/*\nC: Create a note\nR: Read (get) a note\nU: Update a note\nD: Delete a note\n*/\nconst notes = [// { id: 1, title: 'New note', body: 'Hey!' },\n  // { id: 2, title: 'Second note', body: 'Empty' },\n  // { id: 3, title: 'Third note', body: 'Something' }\n];\n\nfunction initializeNotes() {\n  // sets localstorage for the first time\n  localStorage.setItem('notes', JSON.stringify([])); // returns an array\n\n  return [];\n}\n\nexport function createNote(title, body) {\n  const notes = getNotes();\n  const note = {\n    id: Date.now(),\n    title,\n    body\n  };\n  notes.unshift(note);\n  console.log('about to save', notes);\n  const jsonNoteArray = JSON.stringify(notes);\n  localStorage.setItem('notes', jsonNoteArray);\n}\nexport function getNote(id) {\n  const notes = getNotes();\n  return notes.find(note => note.id === id);\n}\nexport function getNotes() {\n  const notes = localStorage.getItem('notes');\n\n  if (!notes) {\n    notes = initializeNotes();\n  }\n\n  const parsedNotes = JSON.parse(notes);\n  return parsedNotes;\n}\nexport function updateNote(id, title, body) {\n  const notes = getNotes();\n  const indexToUpdate = notes.findIndex(note => note.id === id);\n  const note = {\n    id,\n    title,\n    body\n  }; // removes old note\n\n  notes.splice(indexToUpdate, 1); // adds new note to start\n\n  notes.splice(0, 0, note);\n  return notes;\n} // updateNote(3, 'hello', 'blabla')\n\nexport function deleteNote(id) {\n  const indexToDelete = notes.findIndex(note => note.id === id);\n  if (indexToDelete >= 0) notes.splice(indexToDelete, 1);\n  return true;\n}","map":{"version":3,"sources":["/Users/linneawennberg/Desktop/ChangemakerEdu/React/CodeAlong/notes1/src/utils/noteHelpers.js"],"names":["notes","initializeNotes","localStorage","setItem","JSON","stringify","createNote","title","body","getNotes","note","id","Date","now","unshift","console","log","jsonNoteArray","getNote","find","getItem","parsedNotes","parse","updateNote","indexToUpdate","findIndex","splice","deleteNote","indexToDelete"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AAEA,MAAMA,KAAK,GAAG,CACb;AACA;AACA;AAHa,CAAd;;AAMA,SAASC,eAAT,GAA2B;AAC1B;AACAC,EAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAe,EAAf,CAA9B,EAF0B,CAG1B;;AACA,SAAO,EAAP;AACA;;AAED,OAAO,SAASC,UAAT,CAAoBC,KAApB,EAA2BC,IAA3B,EAAiC;AACvC,QAAMR,KAAK,GAAGS,QAAQ,EAAtB;AACA,QAAMC,IAAI,GAAG;AACZC,IAAAA,EAAE,EAAEC,IAAI,CAACC,GAAL,EADQ;AAEZN,IAAAA,KAFY;AAGZC,IAAAA;AAHY,GAAb;AAKAR,EAAAA,KAAK,CAACc,OAAN,CAAcJ,IAAd;AACAK,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BhB,KAA7B;AACA,QAAMiB,aAAa,GAAGb,IAAI,CAACC,SAAL,CAAeL,KAAf,CAAtB;AACAE,EAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8Bc,aAA9B;AACA;AAED,OAAO,SAASC,OAAT,CAAiBP,EAAjB,EAAqB;AAC3B,QAAMX,KAAK,GAAGS,QAAQ,EAAtB;AACA,SAAOT,KAAK,CAACmB,IAAN,CAAYT,IAAD,IAAUA,IAAI,CAACC,EAAL,KAAYA,EAAjC,CAAP;AACA;AAED,OAAO,SAASF,QAAT,GAAoB;AAC1B,QAAMT,KAAK,GAAGE,YAAY,CAACkB,OAAb,CAAqB,OAArB,CAAd;;AACA,MAAI,CAACpB,KAAL,EAAY;AACXA,IAAAA,KAAK,GAAGC,eAAe,EAAvB;AACA;;AACD,QAAMoB,WAAW,GAAGjB,IAAI,CAACkB,KAAL,CAAWtB,KAAX,CAApB;AACA,SAAOqB,WAAP;AACA;AAED,OAAO,SAASE,UAAT,CAAoBZ,EAApB,EAAwBJ,KAAxB,EAA+BC,IAA/B,EAAqC;AAC3C,QAAMR,KAAK,GAAGS,QAAQ,EAAtB;AACA,QAAMe,aAAa,GAAGxB,KAAK,CAACyB,SAAN,CAAiBf,IAAD,IAAUA,IAAI,CAACC,EAAL,KAAYA,EAAtC,CAAtB;AACA,QAAMD,IAAI,GAAG;AACZC,IAAAA,EADY;AAEZJ,IAAAA,KAFY;AAGZC,IAAAA;AAHY,GAAb,CAH2C,CAQ3C;;AACAR,EAAAA,KAAK,CAAC0B,MAAN,CAAaF,aAAb,EAA4B,CAA5B,EAT2C,CAU3C;;AACAxB,EAAAA,KAAK,CAAC0B,MAAN,CAAa,CAAb,EAAgB,CAAhB,EAAmBhB,IAAnB;AACA,SAAOV,KAAP;AACA,C,CAED;;AAEA,OAAO,SAAS2B,UAAT,CAAoBhB,EAApB,EAAwB;AAC9B,QAAMiB,aAAa,GAAG5B,KAAK,CAACyB,SAAN,CAAiBf,IAAD,IAAUA,IAAI,CAACC,EAAL,KAAYA,EAAtC,CAAtB;AACA,MAAIiB,aAAa,IAAI,CAArB,EAAwB5B,KAAK,CAAC0B,MAAN,CAAaE,aAAb,EAA4B,CAA5B;AACxB,SAAO,IAAP;AACA","sourcesContent":["/*\nC: Create a note\nR: Read (get) a note\nU: Update a note\nD: Delete a note\n*/\n\nconst notes = [\n\t// { id: 1, title: 'New note', body: 'Hey!' },\n\t// { id: 2, title: 'Second note', body: 'Empty' },\n\t// { id: 3, title: 'Third note', body: 'Something' }\n]\n\nfunction initializeNotes() {\n\t// sets localstorage for the first time\n\tlocalStorage.setItem('notes', JSON.stringify([]))\n\t// returns an array\n\treturn []\n}\n\nexport function createNote(title, body) {\n\tconst notes = getNotes()\n\tconst note = {\n\t\tid: Date.now(),\n\t\ttitle,\n\t\tbody\n\t}\n\tnotes.unshift(note)\n\tconsole.log('about to save', notes)\n\tconst jsonNoteArray = JSON.stringify(notes)\n\tlocalStorage.setItem('notes', jsonNoteArray)\n}\n\nexport function getNote(id) {\n\tconst notes = getNotes()\n\treturn notes.find((note) => note.id === id)\n}\n\nexport function getNotes() {\n\tconst notes = localStorage.getItem('notes')\n\tif (!notes) {\n\t\tnotes = initializeNotes()\n\t}\n\tconst parsedNotes = JSON.parse(notes)\n\treturn parsedNotes\n}\n\nexport function updateNote(id, title, body) {\n\tconst notes = getNotes()\n\tconst indexToUpdate = notes.findIndex((note) => note.id === id)\n\tconst note = {\n\t\tid,\n\t\ttitle,\n\t\tbody\n\t}\n\t// removes old note\n\tnotes.splice(indexToUpdate, 1)\n\t// adds new note to start\n\tnotes.splice(0, 0, note)\n\treturn notes\n}\n\n// updateNote(3, 'hello', 'blabla')\n\nexport function deleteNote(id) {\n\tconst indexToDelete = notes.findIndex((note) => note.id === id)\n\tif (indexToDelete >= 0) notes.splice(indexToDelete, 1)\n\treturn true\n}\n"]},"metadata":{},"sourceType":"module"}